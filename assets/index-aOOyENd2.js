var er=Object.defineProperty;var tr=(t,e,n)=>e in t?er(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(tr(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $(){}const nr=t=>t;function rn(t,e){for(const n in e)t[n]=e[n];return t}function sn(t){return t()}function vt(){return Object.create(null)}function te(t){t.forEach(sn)}function Xe(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rr(t){return Object.keys(t).length===0}function sr(t,...e){if(t==null){for(const r of e)r(void 0);return $}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}const on=typeof window<"u";let ir=on?()=>window.performance.now():()=>Date.now(),gt=on?t=>requestAnimationFrame(t):$;const be=new Set;function ln(t){be.forEach(e=>{e.c(t)||(be.delete(e),e.f())}),be.size!==0&&gt(ln)}function or(t){let e;return be.size===0&&gt(ln),{promise:new Promise(n=>{be.add(e={c:t,f:n})}),abort(){be.delete(e)}}}function v(t,e){t.appendChild(e)}function an(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function lr(t){const e=C("style");return e.textContent="/* empty */",ar(an(t),e),e.sheet}function ar(t,e){return v(t.head||t,e),e.sheet}function U(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function ur(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function ne(t){return document.createTextNode(t)}function B(){return ne(" ")}function Ve(){return ne("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function cr(t){return Array.from(t.childNodes)}function Se(t,e){e=""+e,t.data!==e&&(t.data=e)}function Pt(t,e){t.value=e??""}function fr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function $e(t,e){return new t(e)}const Ue=new Map;let Le=0;function dr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function hr(t,e){const n={stylesheet:lr(e),rules:{}};return Ue.set(t,n),n}function pr(t,e,n,r,s,i,o,l=0){const u=16.666/r;let a=`{
`;for(let m=0;m<=1;m+=u){const w=e+(n-e)*i(m);a+=m*100+`%{${o(w,1-w)}}
`}const c=a+`100% {${o(n,1-n)}}
}`,f=`__svelte_${dr(c)}_${l}`,_=an(t),{stylesheet:y,rules:d}=Ue.get(_)||hr(_,t);d[f]||(d[f]=!0,y.insertRule(`@keyframes ${f} ${c}`,y.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Le+=1,f}function mr(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Le-=s,Le||_r())}function _r(){gt(()=>{Le||(Ue.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&F(e)}),Ue.clear())})}function un(t,e,n,r){if(!e)return $;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return $;const{delay:i=0,duration:o=300,easing:l=nr,start:u=ir()+i,end:a=u+o,tick:c=$,css:f}=n(t,{from:e,to:s},r);let _=!0,y=!1,d;function p(){f&&(d=pr(t,0,1,o,i,l,f)),i||(y=!0)}function m(){f&&mr(t,d),_=!1}return or(w=>{if(!y&&w>=u&&(y=!0),y&&w>=a&&(c(1,0),m()),!_)return!1;if(y){const A=w-u,S=0+1*l(A/o);c(S,1-S)}return!0}),p(),c(0,1),m}function cn(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:r}=e,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,gr(t,s)}}function gr(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),s=r.transform==="none"?"":r.transform;t.style.transform=`${s} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Te;function Re(t){Te=t}function bt(){if(!Te)throw new Error("Function called outside component initialization");return Te}function br(t){bt().$$.after_update.push(t)}function fn(t){bt().$$.on_destroy.push(t)}function Je(){const t=bt();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=fr(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function Ct(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const _e=[],ce=[];let ye=[];const at=[],dn=Promise.resolve();let ut=!1;function hn(){ut||(ut=!0,dn.then(pn))}function yt(){return hn(),dn}function ct(t){ye.push(t)}function Ie(t){at.push(t)}const tt=new Set;let pe=0;function pn(){if(pe!==0)return;const t=Te;do{try{for(;pe<_e.length;){const e=_e[pe];pe++,Re(e),yr(e.$$)}}catch(e){throw _e.length=0,pe=0,e}for(Re(null),_e.length=0,pe=0;ce.length;)ce.pop()();for(let e=0;e<ye.length;e+=1){const n=ye[e];tt.has(n)||(tt.add(n),n())}ye.length=0}while(_e.length);for(;at.length;)at.pop()();ut=!1,tt.clear(),Re(t)}function yr(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}function wr(t){const e=[],n=[];ye.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ye=e}const Ne=new Set;let ue;function Z(){ue={r:0,c:[],p:ue}}function ee(){ue.r||te(ue.c),ue=ue.p}function P(t,e){t&&t.i&&(Ne.delete(t),t.i(e))}function D(t,e,n,r){if(t&&t.o){if(Ne.has(t))return;Ne.add(t),ue.c.push(()=>{Ne.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ve(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Er(t,e){D(t,1,1,()=>{e.delete(t.key)})}function mn(t,e){t.f(),Er(t,e)}function _n(t,e,n,r,s,i,o,l,u,a,c,f){let _=t.length,y=i.length,d=_;const p={};for(;d--;)p[t[d].key]=d;const m=[],w=new Map,A=new Map,S=[];for(d=y;d--;){const b=f(s,i,d),T=n(b);let j=o.get(T);j?r&&S.push(()=>j.p(b,e)):(j=a(T,b),j.c()),w.set(T,m[d]=j),T in p&&A.set(T,Math.abs(d-p[T]))}const g=new Set,E=new Set;function O(b){P(b,1),b.m(l,c),o.set(b.key,b),c=b.first,y--}for(;_&&y;){const b=m[y-1],T=t[_-1],j=b.key,oe=T.key;b===T?(c=b.first,_--,y--):w.has(oe)?!o.has(j)||g.has(j)?O(b):E.has(oe)?_--:A.get(j)>A.get(oe)?(E.add(j),O(b)):(g.add(oe),_--):(u(T,o),_--)}for(;_--;){const b=t[_];w.has(b.key)||u(b,o)}for(;y;)O(m[y-1]);return te(S),m}function xe(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],l=e[i];if(l){for(const u in o)u in l||(r[u]=1);for(const u in l)s[u]||(n[u]=l[u],s[u]=1);t[i]=l}else for(const u in o)s[u]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Be(t){return typeof t=="object"&&t!==null?t:{}}function He(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function K(t){t&&t.c()}function X(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),ct(()=>{const i=t.$$.on_mount.map(sn).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...i):te(i),t.$$.on_mount=[]}),s.forEach(ct)}function V(t,e){const n=t.$$;n.fragment!==null&&(wr(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kr(t,e){t.$$.dirty[0]===-1&&(_e.push(t),hn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,n,r,s,i,o=null,l=[-1]){const u=Te;Re(t);const a=t.$$={fragment:null,ctx:[],props:i,update:$,not_equal:s,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:vt(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let c=!1;if(a.ctx=n?n(t,e.props||{},(f,_,...y)=>{const d=y.length?y[0]:_;return a.ctx&&s(a.ctx[f],a.ctx[f]=d)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](d),c&&kr(t,f)),_}):[],a.update(),c=!0,te(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const f=cr(e.target);a.fragment&&a.fragment.l(f),f.forEach(F)}else a.fragment&&a.fragment.c();e.intro&&P(t.$$.fragment),X(t,e.target,e.anchor),pn()}Re(u)}class de{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){V(this,1),this.$destroy=$}$on(e,n){if(!Xe(n))return $;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!rr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Or="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Or);const me=[];function gn(t,e){return{subscribe:bn(t,e).subscribe}}function bn(t,e=$){let n;const r=new Set;function s(l){if(ae(t,l)&&(t=l,n)){const u=!me.length;for(const a of r)a[1](),me.push(a,t);if(u){for(let a=0;a<me.length;a+=2)me[a][0](me[a+1]);me.length=0}}}function i(l){s(l(t))}function o(l,u=$){const a=[l,u];return r.add(a),r.size===1&&(n=e(s,i)||$),l(t),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function yn(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return gn(n,(o,l)=>{let u=!1;const a=[];let c=0,f=$;const _=()=>{if(c)return;f();const d=e(r?a[0]:a,o,l);i?o(d):f=Xe(d)?d:$},y=s.map((d,p)=>sr(d,m=>{a[p]=m,c&=~(1<<p),u&&_()},()=>{c|=1<<p}));return u=!0,_(),function(){te(y),f(),u=!1}})}function Ar(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],l="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push("wild"),l+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function Sr(t){let e,n,r;const s=[t[2]];var i=t[0];function o(l,u){let a={};if(u!==void 0&&u&4)a=xe(s,[Be(l[2])]);else for(let c=0;c<s.length;c+=1)a=rn(a,s[c]);return{props:a}}return i&&(e=$e(i,o(t)),e.$on("routeEvent",t[7])),{c(){e&&K(e.$$.fragment),n=Ve()},m(l,u){e&&X(e,l,u),U(l,n,u),r=!0},p(l,u){if(u&1&&i!==(i=l[0])){if(e){Z();const a=e;D(a.$$.fragment,1,0,()=>{V(a,1)}),ee()}i?(e=$e(i,o(l,u)),e.$on("routeEvent",l[7]),K(e.$$.fragment),P(e.$$.fragment,1),X(e,n.parentNode,n)):e=null}else if(i){const a=u&4?xe(s,[Be(l[2])]):{};e.$set(a)}},i(l){r||(e&&P(e.$$.fragment,l),r=!0)},o(l){e&&D(e.$$.fragment,l),r=!1},d(l){l&&F(n),e&&V(e,l)}}}function Rr(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(l,u){let a={};if(u!==void 0&&u&6)a=xe(s,[u&2&&{params:l[1]},u&4&&Be(l[2])]);else for(let c=0;c<s.length;c+=1)a=rn(a,s[c]);return{props:a}}return i&&(e=$e(i,o(t)),e.$on("routeEvent",t[6])),{c(){e&&K(e.$$.fragment),n=Ve()},m(l,u){e&&X(e,l,u),U(l,n,u),r=!0},p(l,u){if(u&1&&i!==(i=l[0])){if(e){Z();const a=e;D(a.$$.fragment,1,0,()=>{V(a,1)}),ee()}i?(e=$e(i,o(l,u)),e.$on("routeEvent",l[6]),K(e.$$.fragment),P(e.$$.fragment,1),X(e,n.parentNode,n)):e=null}else if(i){const a=u&6?xe(s,[u&2&&{params:l[1]},u&4&&Be(l[2])]):{};e.$set(a)}},i(l){r||(e&&P(e.$$.fragment,l),r=!0)},o(l){e&&D(e.$$.fragment,l),r=!1},d(l){l&&F(n),e&&V(e,l)}}}function Tr(t){let e,n,r,s;const i=[Rr,Sr],o=[];function l(u,a){return u[1]?0:1}return e=l(t),n=o[e]=i[e](t),{c(){n.c(),r=Ve()},m(u,a){o[e].m(u,a),U(u,r,a),s=!0},p(u,[a]){let c=e;e=l(u),e===c?o[e].p(u,a):(Z(),D(o[c],1,1,()=>{o[c]=null}),ee(),n=o[e],n?n.p(u,a):(n=o[e]=i[e](u),n.c()),P(n,1),n.m(r.parentNode,r))},i(u){s||(P(n),s=!0)},o(u){D(n),s=!1},d(u){u&&F(r),o[e].d(u)}}}function Mt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const wt=gn(null,function(e){e(Mt());const n=()=>{e(Mt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});yn(wt,t=>t.location);yn(wt,t=>t.querystring);const Nt=bn(void 0);async function Dt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await yt(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function vr(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await yt();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Pr(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Cr(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(E,O){if(!O||typeof O!="function"&&(typeof O!="object"||O._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:T}=Ar(E);this.path=E,typeof O=="object"&&O._sveltesparouter===!0?(this.component=O.component,this.conditions=O.conditions||[],this.userData=O.userData,this.props=O.props||{}):(this.component=()=>Promise.resolve(O),this.conditions=[],this.props={}),this._pattern=b,this._keys=T}match(E){if(s){if(typeof s=="string")if(E.startsWith(s))E=E.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const j=E.match(s);if(j&&j[0])E=E.substr(j[0].length)||"/";else return null}}const O=this._pattern.exec(E);if(O===null)return null;if(this._keys===!1)return O;const b={};let T=0;for(;T<this._keys.length;){try{b[this._keys[T]]=decodeURIComponent(O[T+1]||"")||null}catch{b[this._keys[T]]=null}T++}return b}async checkConditions(E){for(let O=0;O<this.conditions.length;O++)if(!await this.conditions[O](E))return!1;return!0}}const l=[];r instanceof Map?r.forEach((g,E)=>{l.push(new o(E,g))}):Object.keys(r).forEach(g=>{l.push(new o(g,r[g]))});let u=null,a=null,c={};const f=Je();async function _(g,E){await yt(),f(g,E)}let y=null,d=null;i&&(d=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?y=g.state:y=null},window.addEventListener("popstate",d),br(()=>{Pr(y)}));let p=null,m=null;const w=wt.subscribe(async g=>{p=g;let E=0;for(;E<l.length;){const O=l[E].match(g.location);if(!O){E++;continue}const b={route:l[E].path,location:g.location,querystring:g.querystring,userData:l[E].userData,params:O&&typeof O=="object"&&Object.keys(O).length?O:null};if(!await l[E].checkConditions(b)){n(0,u=null),m=null,_("conditionsFailed",b);return}_("routeLoading",Object.assign({},b));const T=l[E].component;if(m!=T){T.loading?(n(0,u=T.loading),m=T,n(1,a=T.loadingParams),n(2,c={}),_("routeLoaded",Object.assign({},b,{component:u,name:u.name,params:a}))):(n(0,u=null),m=null);const j=await T();if(g!=p)return;n(0,u=j&&j.default||j),m=T}O&&typeof O=="object"&&Object.keys(O).length?n(1,a=O):n(1,a=null),n(2,c=l[E].props),_("routeLoaded",Object.assign({},b,{component:u,name:u.name,params:a})).then(()=>{Nt.set(a)});return}n(0,u=null),m=null,Nt.set(void 0)});fn(()=>{w(),d&&window.removeEventListener("popstate",d)});function A(g){Ct.call(this,t,g)}function S(g){Ct.call(this,t,g)}return t.$$set=g=>{"routes"in g&&n(3,r=g.routes),"prefix"in g&&n(4,s=g.prefix),"restoreScrollState"in g&&n(5,i=g.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[u,a,c,r,s,i,A,S]}class Mr extends de{constructor(e){super(),fe(this,e,Cr,Tr,ae,{routes:3,prefix:4,restoreScrollState:5})}}class Nr{constructor(){z(this,"plContent");z(this,"plName");this.plContent=localStorage.getItem("pl_content"),this.plName=localStorage.getItem("pl_name")}set playlist(e){this.plContent=e,localStorage.setItem("pl_content",e)}get playlist(){return this.plContent}set name(e){this.plName=e,localStorage.setItem("pl_name",e)}get name(){return this.plName}}const ge=new Nr;var wn={},Ge={},nt={},Oe={},Ft;function En(){if(Ft)return Oe;Ft=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.M3uGenerator=void 0;const t=Et();class e{static generate(r){const s=r.title?`${t.M3uDirectives.PLAYLIST}:${r.title}`:void 0,i=r.medias.map(l=>this.getMedia(l)).join(`
`),o=r.urlTvg?` url-tvg="${r.urlTvg}"`:"";return[t.M3uDirectives.EXTM3U+o,s,i].filter(l=>l).join(`
`)}static getMedia(r){const s=this.getAttributes(r.attributes),i=this.shouldAddInfoDirective(r,s)?`${t.M3uDirectives.EXTINF}:${r.duration}${s},${r.name}`:null,o=r.group?`${t.M3uDirectives.EXTGRP}:${r.group}`:null,l=r.extraAttributesFromUrl?`${t.M3uDirectives.EXTATTRFROMURL}:${r.extraAttributesFromUrl}`:null,u=r.extraHttpHeaders?`${t.M3uDirectives.EXTHTTP}:${JSON.stringify(r.extraHttpHeaders)}`:null,a=r.kodiProps?[...r.kodiProps].map(([c,f])=>`${t.M3uDirectives.KODIPROP}:${c}=${f}`).join(`
`):null;return[i,o,l,u,a,r.location].filter(c=>c).join(`
`)}static getAttributes(r){const s=Object.keys(r);return s.length?" "+s.map(i=>`${i}="${r[i]}"`).join(" "):""}static shouldAddInfoDirective(r,s){return r.duration!==t.DEFAULT_MEDIA_DURATION||s!==""||r.name!==void 0}}return Oe.M3uGenerator=e,Oe}var jt;function Et(){return jt||(jt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.M3uAttributes=t.M3uMedia=t.M3uPlaylist=t.M3uDirectives=t.DEFAULT_MEDIA_DURATION=t.M3U_COMMENT=void 0;const e=En();t.M3U_COMMENT="#",t.DEFAULT_MEDIA_DURATION=-1,function(i){i.EXTM3U="#EXTM3U",i.EXTINF="#EXTINF",i.PLAYLIST="#PLAYLIST",i.EXTGRP="#EXTGRP",i.EXTATTRFROMURL="#EXTATTRFROMURL",i.EXTHTTP="#EXTHTTP",i.KODIPROP="#KODIPROP"}(t.M3uDirectives||(t.M3uDirectives={}));class n{constructor(){this.title="",this.urlTvg=void 0,this.medias=[]}getM3uString(){return e.M3uGenerator.generate(this)}}t.M3uPlaylist=n;class r{constructor(o){this.location=o,this.duration=t.DEFAULT_MEDIA_DURATION,this.attributes=new s,this.extraAttributesFromUrl=void 0,this.extraHttpHeaders=void 0,this.kodiProps=new Map}}t.M3uMedia=r;class s{}t.M3uAttributes=s}(nt)),nt}Object.defineProperty(Ge,"__esModule",{value:!0});Ge.M3uParser=void 0;const J=Et();class Dr{static getAttributes(e){var n;const r=new J.M3uAttributes;return e&&((n=e.match(/[^ ]*?=".*?"/g))!==null&&n!==void 0?n:[]).forEach(i=>{const[o,l]=i.split('="');r[o]=l.replace('"',"")}),r}static processMedia(e,n){const r=e.lastIndexOf(","),s=e.substring(0,r);n.name=e.substring(r+1);const i=s.indexOf(" "),o=i>0?i:s.length;n.duration=Number(s.substring(0,o));const l=s.substring(o+1);n.attributes=this.getAttributes(l)}static processDirective(e,n,r){const s=e.indexOf(":"),i=e.substring(0,s),o=e.substring(s+1);switch(i){case J.M3uDirectives.EXTINF:{this.processMedia(o,r);break}case J.M3uDirectives.EXTGRP:{r.group=o;break}case J.M3uDirectives.PLAYLIST:{n.title=o;break}case J.M3uDirectives.EXTATTRFROMURL:{r.extraAttributesFromUrl=o;break}case J.M3uDirectives.EXTHTTP:{r.extraHttpHeaders=JSON.parse(o);break}case J.M3uDirectives.KODIPROP:{const[l,u]=o.split("=");r.kodiProps||(r.kodiProps=new Map),r.kodiProps.set(l,u);break}}}static processUrlTvg(e,n){const r=e.split('url-tvg="')[1];r&&(n.urlTvg=r.split('"')[0])}static getPlaylist(e){const n=new J.M3uPlaylist;let r=new J.M3uMedia("");return this.processUrlTvg(e[0],n),e.forEach(s=>{this.isDirective(s)?this.processDirective(s,n,r):(r.location=s,n.medias.push(r),r=new J.M3uMedia(""))}),n}static isDirective(e){return e[0]===J.M3U_COMMENT}static isValidM3u(e){return e[0].startsWith(J.M3uDirectives.EXTM3U)}static parse(e,n=!1){if(!n&&!e)throw new Error("m3uString can't be null!");const r=e.split(`
`).map(s=>s.trim()).filter(s=>s!="");if(!n&&!this.isValidM3u(r))throw new Error(`Missing ${J.M3uDirectives.EXTM3U} directive!`);return this.getPlaylist(r)}}Ge.M3uParser=Dr;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.M3uAttributes=t.M3uMedia=t.M3uPlaylist=t.M3uGenerator=t.M3uParser=void 0;var e=Ge;Object.defineProperty(t,"M3uParser",{enumerable:!0,get:function(){return e.M3uParser}});var n=En();Object.defineProperty(t,"M3uGenerator",{enumerable:!0,get:function(){return n.M3uGenerator}});var r=Et();Object.defineProperty(t,"M3uPlaylist",{enumerable:!0,get:function(){return r.M3uPlaylist}}),Object.defineProperty(t,"M3uMedia",{enumerable:!0,get:function(){return r.M3uMedia}}),Object.defineProperty(t,"M3uAttributes",{enumerable:!0,get:function(){return r.M3uAttributes}})})(wn);var G=(t=>(t[t.Idle=0]="Idle",t[t.Checking=1]="Checking",t[t.Success=2]="Success",t[t.Failure=3]="Failure",t))(G||{});function kn(t,e){return function(){return t.apply(e,arguments)}}const{toString:Fr}=Object.prototype,{getPrototypeOf:kt}=Object,Ke=(t=>e=>{const n=Fr.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),se=t=>(t=t.toLowerCase(),e=>Ke(e)===t),We=t=>e=>typeof e===t,{isArray:Ee}=Array,Pe=We("undefined");function jr(t){return t!==null&&!Pe(t)&&t.constructor!==null&&!Pe(t.constructor)&&W(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const On=se("ArrayBuffer");function $r(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&On(t.buffer),e}const Ur=We("string"),W=We("function"),An=We("number"),Ye=t=>t!==null&&typeof t=="object",Lr=t=>t===!0||t===!1,De=t=>{if(Ke(t)!=="object")return!1;const e=kt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ir=se("Date"),xr=se("File"),Br=se("Blob"),Hr=se("FileList"),qr=t=>Ye(t)&&W(t.pipe),zr=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||W(t.append)&&((e=Ke(t))==="formdata"||e==="object"&&W(t.toString)&&t.toString()==="[object FormData]"))},Xr=se("URLSearchParams"),Vr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ce(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ee(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function Sn(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tn=t=>!Pe(t)&&t!==Rn;function ft(){const{caseless:t}=Tn(this)&&this||{},e={},n=(r,s)=>{const i=t&&Sn(e,s)||s;De(e[i])&&De(r)?e[i]=ft(e[i],r):De(r)?e[i]=ft({},r):Ee(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ce(arguments[r],n);return e}const Jr=(t,e,n,{allOwnKeys:r}={})=>(Ce(e,(s,i)=>{n&&W(s)?t[i]=kn(s,n):t[i]=s},{allOwnKeys:r}),t),Gr=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kr=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Wr=(t,e,n,r)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&kt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Yr=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Qr=t=>{if(!t)return null;if(Ee(t))return t;let e=t.length;if(!An(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Zr=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&kt(Uint8Array)),es=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},ts=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ns=se("HTMLFormElement"),rs=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$t=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ss=se("RegExp"),vn=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ce(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},is=t=>{vn(t,(e,n)=>{if(W(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(W(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},os=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ee(t)?r(t):r(String(t).split(e)),n},ls=()=>{},as=(t,e)=>(t=+t,Number.isFinite(t)?t:e),rt="abcdefghijklmnopqrstuvwxyz",Ut="0123456789",Pn={DIGIT:Ut,ALPHA:rt,ALPHA_DIGIT:rt+rt.toUpperCase()+Ut},us=(t=16,e=Pn.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cs(t){return!!(t&&W(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fs=t=>{const e=new Array(10),n=(r,s)=>{if(Ye(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ee(r)?[]:{};return Ce(r,(o,l)=>{const u=n(o,s+1);!Pe(u)&&(i[l]=u)}),e[s]=void 0,i}}return r};return n(t,0)},ds=se("AsyncFunction"),hs=t=>t&&(Ye(t)||W(t))&&W(t.then)&&W(t.catch),h={isArray:Ee,isArrayBuffer:On,isBuffer:jr,isFormData:zr,isArrayBufferView:$r,isString:Ur,isNumber:An,isBoolean:Lr,isObject:Ye,isPlainObject:De,isUndefined:Pe,isDate:Ir,isFile:xr,isBlob:Br,isRegExp:ss,isFunction:W,isStream:qr,isURLSearchParams:Xr,isTypedArray:Zr,isFileList:Hr,forEach:Ce,merge:ft,extend:Jr,trim:Vr,stripBOM:Gr,inherits:Kr,toFlatObject:Wr,kindOf:Ke,kindOfTest:se,endsWith:Yr,toArray:Qr,forEachEntry:es,matchAll:ts,isHTMLForm:ns,hasOwnProperty:$t,hasOwnProp:$t,reduceDescriptors:vn,freezeMethods:is,toObjectSet:os,toCamelCase:rs,noop:ls,toFiniteNumber:as,findKey:Sn,global:Rn,isContextDefined:Tn,ALPHABET:Pn,generateString:us,isSpecCompliantForm:cs,toJSONObject:fs,isAsyncFn:ds,isThenable:hs};function M(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}h.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cn=M.prototype,Mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Mn[t]={value:t}});Object.defineProperties(M,Mn);Object.defineProperty(Cn,"isAxiosError",{value:!0});M.from=(t,e,n,r,s,i)=>{const o=Object.create(Cn);return h.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),M.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const ps=null;function dt(t){return h.isPlainObject(t)||h.isArray(t)}function Nn(t){return h.endsWith(t,"[]")?t.slice(0,-2):t}function Lt(t,e,n){return t?t.concat(e).map(function(s,i){return s=Nn(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function ms(t){return h.isArray(t)&&!t.some(dt)}const _s=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function Qe(t,e,n){if(!h.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=h.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!h.isUndefined(m[p])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(s))throw new TypeError("visitor must be a function");function a(d){if(d===null)return"";if(h.isDate(d))return d.toISOString();if(!u&&h.isBlob(d))throw new M("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(d)||h.isTypedArray(d)?u&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,p,m){let w=d;if(d&&!m&&typeof d=="object"){if(h.endsWith(p,"{}"))p=r?p:p.slice(0,-2),d=JSON.stringify(d);else if(h.isArray(d)&&ms(d)||(h.isFileList(d)||h.endsWith(p,"[]"))&&(w=h.toArray(d)))return p=Nn(p),w.forEach(function(S,g){!(h.isUndefined(S)||S===null)&&e.append(o===!0?Lt([p],g,i):o===null?p:p+"[]",a(S))}),!1}return dt(d)?!0:(e.append(Lt(m,p,i),a(d)),!1)}const f=[],_=Object.assign(_s,{defaultVisitor:c,convertValue:a,isVisitable:dt});function y(d,p){if(!h.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(d),h.forEach(d,function(w,A){(!(h.isUndefined(w)||w===null)&&s.call(e,w,h.isString(A)?A.trim():A,p,_))===!0&&y(w,p?p.concat(A):[A])}),f.pop()}}if(!h.isObject(t))throw new TypeError("data must be an object");return y(t),e}function It(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ot(t,e){this._pairs=[],t&&Qe(t,this,e)}const Dn=Ot.prototype;Dn.append=function(e,n){this._pairs.push([e,n])};Dn.toString=function(e){const n=e?function(r){return e.call(this,r,It)}:It;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function gs(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fn(t,e,n){if(!e)return t;const r=n&&n.encode||gs,s=n&&n.serialize;let i;if(s?i=s(e,n):i=h.isURLSearchParams(e)?e.toString():new Ot(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class xt{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bs=typeof URLSearchParams<"u"?URLSearchParams:Ot,ys=typeof FormData<"u"?FormData:null,ws=typeof Blob<"u"?Blob:null,Es={isBrowser:!0,classes:{URLSearchParams:bs,FormData:ys,Blob:ws},protocols:["http","https","file","blob","url","data"]},$n=typeof window<"u"&&typeof document<"u",ks=(t=>$n&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Os=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",As=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$n,hasStandardBrowserEnv:ks,hasStandardBrowserWebWorkerEnv:Os},Symbol.toStringTag,{value:"Module"})),re={...As,...Es};function Ss(t,e){return Qe(t,new re.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return re.isNode&&h.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Rs(t){return h.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ts(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Un(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&h.isArray(s)?s.length:o,u?(h.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!h.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&h.isArray(s[o])&&(s[o]=Ts(s[o])),!l)}if(h.isFormData(t)&&h.isFunction(t.entries)){const n={};return h.forEachEntry(t,(r,s)=>{e(Rs(r),s,n,0)}),n}return null}function vs(t,e,n){if(h.isString(t))try{return(e||JSON.parse)(t),h.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const At={transitional:jn,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=h.isObject(e);if(i&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return s?JSON.stringify(Un(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ss(e,this.formSerializer).toString();if((l=h.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Qe(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),vs(e)):e}],transformResponse:[function(e){const n=this.transitional||At.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&h.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?M.from(l,M.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],t=>{At.headers[t]={}});const St=At,Ps=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cs=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Ps[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bt=Symbol("internals");function Ae(t){return t&&String(t).trim().toLowerCase()}function Fe(t){return t===!1||t==null?t:h.isArray(t)?t.map(Fe):String(t)}function Ms(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ns=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function st(t,e,n,r,s){if(h.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!h.isString(e)){if(h.isString(r))return e.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(e)}}function Ds(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Fs(t,e){const n=h.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Ze{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,u,a){const c=Ae(u);if(!c)throw new Error("header name must be a non-empty string");const f=h.findKey(s,c);(!f||s[f]===void 0||a===!0||a===void 0&&s[f]!==!1)&&(s[f||u]=Fe(l))}const o=(l,u)=>h.forEach(l,(a,c)=>i(a,c,u));return h.isPlainObject(e)||e instanceof this.constructor?o(e,n):h.isString(e)&&(e=e.trim())&&!Ns(e)?o(Cs(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Ae(e),e){const r=h.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Ms(s);if(h.isFunction(n))return n.call(this,s,r);if(h.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ae(e),e){const r=h.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||st(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Ae(o),o){const l=h.findKey(r,o);l&&(!n||st(r,r[l],l,n))&&(delete r[l],s=!0)}}return h.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||st(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return h.forEach(this,(s,i)=>{const o=h.findKey(r,i);if(o){n[o]=Fe(s),delete n[i];return}const l=e?Ds(i):String(i).trim();l!==i&&delete n[i],n[l]=Fe(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return h.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&h.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Bt]=this[Bt]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Ae(o);r[l]||(Fs(s,o),r[l]=!0)}return h.isArray(e)?e.forEach(i):i(e),this}}Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(Ze.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});h.freezeMethods(Ze);const ie=Ze;function it(t,e){const n=this||St,r=e||n,s=ie.from(r.headers);let i=r.data;return h.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ln(t){return!!(t&&t.__CANCEL__)}function Me(t,e,n){M.call(this,t??"canceled",M.ERR_CANCELED,e,n),this.name="CanceledError"}h.inherits(Me,M,{__CANCEL__:!0});function js(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new M("Request failed with status code "+n.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const $s=re.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];h.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),h.isString(r)&&o.push("path="+r),h.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Us(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ls(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function In(t,e){return t&&!Us(e)?Ls(t,e):e}const Is=re.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const l=h.isString(o)?s(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function xs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Bs(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const a=Date.now(),c=r[i];o||(o=a),n[s]=u,r[s]=a;let f=i,_=0;for(;f!==s;)_+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),a-o<e)return;const y=c&&a-c;return y?Math.round(_*1e3/y):void 0}}function Ht(t,e){let n=0;const r=Bs(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,l=i-n,u=r(l),a=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&a?(o-i)/u:void 0,event:s};c[e?"download":"upload"]=!0,t(c)}}const Hs=typeof XMLHttpRequest<"u",qs=Hs&&function(t){return new Promise(function(n,r){let s=t.data;const i=ie.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,u;function a(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let c;if(h.isFormData(s)){if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[p,...m]=c?c.split(";").map(w=>w.trim()).filter(Boolean):[];i.setContentType([p||"multipart/form-data",...m].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const _=In(t.baseURL,t.url);f.open(t.method.toUpperCase(),Fn(_,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function y(){if(!f)return;const p=ie.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:p,config:t,request:f};js(function(S){n(S),a()},function(S){r(S),a()},w),f=null}if("onloadend"in f?f.onloadend=y:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(y)},f.onabort=function(){f&&(r(new M("Request aborted",M.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new M("Network Error",M.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||jn;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new M(m,w.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,t,f)),f=null},re.hasStandardBrowserEnv&&(l&&h.isFunction(l)&&(l=l(t)),l||l!==!1&&Is(_))){const p=t.xsrfHeaderName&&t.xsrfCookieName&&$s.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in f&&h.forEach(i.toJSON(),function(m,w){f.setRequestHeader(w,m)}),h.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",Ht(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Ht(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=p=>{f&&(r(!p||p.type?new Me(null,t,f):p),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const d=xs(_);if(d&&re.protocols.indexOf(d)===-1){r(new M("Unsupported protocol "+d+":",M.ERR_BAD_REQUEST,t));return}f.send(s||null)})},ht={http:ps,xhr:qs};h.forEach(ht,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qt=t=>`- ${t}`,zs=t=>h.isFunction(t)||t===null||t===!1,xn={getAdapter:t=>{t=h.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!zs(n)&&(r=ht[(o=String(n)).toLowerCase()],r===void 0))throw new M(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(qt).join(`
`):" "+qt(i[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ht};function ot(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Me(null,t)}function zt(t){return ot(t),t.headers=ie.from(t.headers),t.data=it.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xn.getAdapter(t.adapter||St.adapter)(t).then(function(r){return ot(t),r.data=it.call(t,t.transformResponse,r),r.headers=ie.from(r.headers),r},function(r){return Ln(r)||(ot(t),r&&r.response&&(r.response.data=it.call(t,t.transformResponse,r.response),r.response.headers=ie.from(r.response.headers))),Promise.reject(r)})}const Xt=t=>t instanceof ie?t.toJSON():t;function we(t,e){e=e||{};const n={};function r(a,c,f){return h.isPlainObject(a)&&h.isPlainObject(c)?h.merge.call({caseless:f},a,c):h.isPlainObject(c)?h.merge({},c):h.isArray(c)?c.slice():c}function s(a,c,f){if(h.isUndefined(c)){if(!h.isUndefined(a))return r(void 0,a,f)}else return r(a,c,f)}function i(a,c){if(!h.isUndefined(c))return r(void 0,c)}function o(a,c){if(h.isUndefined(c)){if(!h.isUndefined(a))return r(void 0,a)}else return r(void 0,c)}function l(a,c,f){if(f in e)return r(a,c);if(f in t)return r(void 0,a)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(a,c)=>s(Xt(a),Xt(c),!0)};return h.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=u[c]||s,_=f(t[c],e[c],c);h.isUndefined(_)&&f!==l||(n[c]=_)}),n}const Bn="1.6.7",Rt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Vt={};Rt.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Bn+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new M(s(o," has been removed"+(n?" in "+n:"")),M.ERR_DEPRECATED);return n&&!Vt[o]&&(Vt[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};function Xs(t,e,n){if(typeof t!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new M("option "+i+" must be "+u,M.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}const pt={assertOptions:Xs,validators:Rt},le=pt.validators;class qe{constructor(e){this.defaults=e,this.interceptors={request:new xt,response:new xt}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=we(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&pt.assertOptions(r,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),s!=null&&(h.isFunction(s)?n.paramsSerializer={serialize:s}:pt.assertOptions(s,{encode:le.function,serialize:le.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[n.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),n.headers=ie.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(u=u&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const a=[];this.interceptors.response.forEach(function(p){a.push(p.fulfilled,p.rejected)});let c,f=0,_;if(!u){const d=[zt.bind(this),void 0];for(d.unshift.apply(d,l),d.push.apply(d,a),_=d.length,c=Promise.resolve(n);f<_;)c=c.then(d[f++],d[f++]);return c}_=l.length;let y=n;for(f=0;f<_;){const d=l[f++],p=l[f++];try{y=d(y)}catch(m){p.call(this,m);break}}try{c=zt.call(this,y)}catch(d){return Promise.reject(d)}for(f=0,_=a.length;f<_;)c=c.then(a[f++],a[f++]);return c}getUri(e){e=we(this.defaults,e);const n=In(e.baseURL,e.url);return Fn(n,e.params,e.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(e){qe.prototype[e]=function(n,r){return this.request(we(r||{},{method:e,url:n,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,l){return this.request(we(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}qe.prototype[e]=n(),qe.prototype[e+"Form"]=n(!0)});const je=qe;class Tt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new Me(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Tt(function(s){e=s}),cancel:e}}}const Vs=Tt;function Js(t){return function(n){return t.apply(null,n)}}function Gs(t){return h.isObject(t)&&t.isAxiosError===!0}const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach(([t,e])=>{mt[e]=t});const Ks=mt;function Hn(t){const e=new je(t),n=kn(je.prototype.request,e);return h.extend(n,je.prototype,e,{allOwnKeys:!0}),h.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Hn(we(t,s))},n}const I=Hn(St);I.Axios=je;I.CanceledError=Me;I.CancelToken=Vs;I.isCancel=Ln;I.VERSION=Bn;I.toFormData=Qe;I.AxiosError=M;I.Cancel=I.CanceledError;I.all=function(e){return Promise.all(e)};I.spread=Js;I.isAxiosError=Gs;I.mergeConfig=we;I.AxiosHeaders=ie;I.formToJSON=t=>Un(h.isHTMLForm(t)?new FormData(t):t);I.getAdapter=xn.getAdapter;I.HttpStatusCode=Ks;I.default=I;class Ws{constructor(e){z(this,"items");z(this,"index",0);z(this,"onItemStateChanged");z(this,"onCompleted");z(this,"runCounter",0);z(this,"running",!0);this.items=e}async fetchItem(){for(;this.running;){if(this.index>=this.items.length){this.runCounter--,this.runCounter==0&&this.onCompleted&&this.onCompleted();return}let e=this.items[this.index++];e.state=G.Checking;try{let n=await I.get(e.location,{timeout:1e3});n.status>=200&&n.status<400?e.state=G.Success:e.state=G.Failure}catch{e.state=G.Failure}this.onItemStateChanged&&this.onItemStateChanged(e)}}run(){this.running=!0;for(let e=0;e<10;e++)this.runCounter++,this.fetchItem();return this}abort(){this.running=!1}}function Jt(t){return/^#EXTM3U/.test(t)}let qn=navigator.userAgent,Ys=qn.includes("Edge"),Qs=qn.includes("Chrome");const Zs={name:"CORS Unblock",url:"https://microsoftedge.microsoft.com/addons/detail/cors-unblock/hkjklmhkbkdhlgnnfbbcihcajofmjgbh"},ei={name:"CORS Unblock",url:"https://chromewebstore.google.com/detail/cors-unblock/lfhmikememgdcahcdlaciloancbhjino"},_t=[];Ys?_t.push(Zs):Qs&&_t.push(ei);function ti(t,e,n){const r=t.slice();return r[13]=e[n],r}function ni(t){let e;return{c(){e=C("a"),e.textContent=`${t[13].name}`,k(e,"href",t[13].url),k(e,"target","_blank"),k(e,"class","text-sm text-blue-400")},m(n,r){U(n,e,r)},p:$,d(n){n&&F(e)}}}function ri(t){let e,n,r,s,i,o,l,u,a,c,f,_,y,d,p,m,w,A=ve(_t),S=[];for(let g=0;g<A.length;g+=1)S[g]=ni(ti(t,A,g));return{c(){e=C("div"),n=C("span"),r=ne(`因为多数IPTV源有跨域问题, 需要安装浏览器插件解决, 如\r
        `);for(let g=0;g<S.length;g+=1)S[g].c();s=ne(`\r
        等`),i=B(),o=C("div"),l=C("div"),u=C("div"),a=C("input"),c=B(),f=C("button"),f.innerHTML='<span class="icon-[ph--plus-bold] text-gray-200 text-7xl "></span>',_=B(),y=C("div"),d=C("input"),k(n,"class","bg-stone-200 p-4 rounded-b-lg text-red-500"),k(e,"class","fixed top-0 w-full flex flex-col justify-center items-center"),k(a,"type","file"),k(a,"accept",".m3u,.m3u8"),k(a,"class","hidden"),k(f,"class","w-full h-full flex justify-center items-center"),k(u,"class","flex-1 flex justify-center items-center"),k(d,"type","text"),k(d,"placeholder","请输入m3u8地址, 回车加载"),k(d,"class","h-full w-full border-none outline-none"),k(y,"class","h-12 border-t-2"),k(l,"class",p="w-1/3 h-1/4 border-2 rounded-xl flex flex-col px-6 "+t[1]),k(o,"class","w-full h-full flex justify-center items-center")},m(g,E){U(g,e,E),v(e,n),v(n,r);for(let O=0;O<S.length;O+=1)S[O]&&S[O].m(n,null);v(n,s),U(g,i,E),U(g,o,E),v(o,l),v(l,u),v(u,a),t[5](a),v(u,c),v(u,f),v(l,_),v(l,y),v(y,d),Pt(d,t[2]),m||(w=[x(a,"change",t[6]),x(f,"click",t[7]),x(f,"dragenter",t[8]),x(f,"dragleave",t[9]),x(f,"dragover",si),x(f,"drop",t[10]),x(d,"keydown",t[4]),x(d,"input",t[11])],m=!0)},p(g,[E]){E&4&&d.value!==g[2]&&Pt(d,g[2]),E&2&&p!==(p="w-1/3 h-1/4 border-2 rounded-xl flex flex-col px-6 "+g[1])&&k(l,"class",p)},i:$,o:$,d(g){g&&(F(e),F(i),F(o)),ur(S,g),t[5](null),m=!1,te(w)}}}const si=t=>t.preventDefault();function ii(t,e,n){let r,s="",i="";const o=p=>{if(!p||p.length<1)return;let m=p[0];const w=new FileReader;w.onloadend=()=>{if(!Jt(w.result)){alert("非IPTV源");return}ge.playlist=w.result,ge.name=m.name,Dt("/check")},w.readAsText(m,"utf8")};async function l(p){if(p.code!="Enter"||!i||!/(^http:\/\/)|(^https:\/\/)/.test(i))return;let m=await I.get(i);if(m.status<200||m.status>=400){alert("请求地址失败!");return}let w=m.data;if(!Jt(w)){alert("非IPTV源");return}let A=new URL(i).pathname.split("/"),S=A[A.length-1];S.includes(".")||(S="playlist.m3u"),ge.playlist=w,ge.name=S,Dt("/check")}function u(p){ce[p?"unshift":"push"](()=>{r=p,n(0,r)})}const a=p=>o(r.files),c=()=>r.click(),f=()=>n(1,s="border-blue-400"),_=()=>n(1,s=""),y=p=>{var m;p.preventDefault(),o((m=p.dataTransfer)==null?void 0:m.files)};function d(){i=this.value,n(2,i)}return[r,s,i,o,l,u,a,c,f,_,y,d]}class oi extends de{constructor(e){super(),fe(this,e,ii,ri,ae,{})}}class li{constructor(e){z(this,"name");z(this,"items",[]);z(this,"cntTotal",0);z(this,"draggable",!1);this.name=e}push(e){this.items.push(e),this.cntTotal=this.items.length}get total(){return this.cntTotal}get invalidCount(){return this.items.reduce((e,n)=>(e+=n.invalid?1:0,e),0)}get completedCount(){return this.items.reduce((e,n)=>(e+=n.state==G.Failure||n.state==G.Success?1:0,e),0)}}function ai(t){let e,n,r,s,i,o,l,u,a;return{c(){e=C("button"),n=C("span"),s=B(),i=C("span"),o=ne(t[2]),k(n,"class",r=t[1]+" text-3xl"),k(i,"class","text-xs"),k(e,"class",l=(t[0]?"text-blue-400":"text-white")+" flex flex-col items-center justify-center w-full py-4 active:text-blue-400")},m(c,f){U(c,e,f),v(e,n),v(e,s),v(e,i),v(i,o),u||(a=x(e,"click",t[5]),u=!0)},p(c,[f]){f&2&&r!==(r=c[1]+" text-3xl")&&k(n,"class",r),f&4&&Se(o,c[2]),f&1&&l!==(l=(c[0]?"text-blue-400":"text-white")+" flex flex-col items-center justify-center w-full py-4 active:text-blue-400")&&k(e,"class",l)},i:$,o:$,d(c){c&&F(e),u=!1,a()}}}function ui(t,e,n){let{icon:r}=e,{text:s}=e,{mode:i="switcher"}=e,{active:o=!1}=e;const l=Je();function u(){if(i=="button"){l("click",!0);return}n(0,o=!o),l("click",o)}const a=()=>u();return t.$$set=c=>{"icon"in c&&n(1,r=c.icon),"text"in c&&n(2,s=c.text),"mode"in c&&n(4,i=c.mode),"active"in c&&n(0,o=c.active)},[o,r,s,u,i,a]}class lt extends de{constructor(e){super(),fe(this,e,ui,ai,ae,{icon:1,text:2,mode:4,active:0})}}function ci(t){let e,n,r,s,i,o,l,u,a,c,f;function _(m){t[3](m)}let y={icon:"icon-[ci--unlink]",text:"删除无连接"};t[0]!==void 0&&(y.active=t[0]),n=new lt({props:y}),ce.push(()=>He(n,"active",_));function d(m){t[4](m)}let p={icon:"icon-[tabler--copy-off]",text:"删除重复"};return t[1]!==void 0&&(p.active=t[1]),i=new lt({props:p}),ce.push(()=>He(i,"active",d)),c=new lt({props:{icon:"icon-[octicon--download-16]",text:"重新生成",mode:"button"}}),c.$on("click",t[5]),{c(){e=C("div"),K(n.$$.fragment),s=B(),K(i.$$.fragment),l=B(),u=C("hr"),a=B(),K(c.$$.fragment),k(u,"class","border-t-2 border-stone-500 ml-2 mr-2"),k(e,"class","w-full rounded-l-lg bg-stone-700")},m(m,w){U(m,e,w),X(n,e,null),v(e,s),X(i,e,null),v(e,l),v(e,u),v(e,a),X(c,e,null),f=!0},p(m,[w]){const A={};!r&&w&1&&(r=!0,A.active=m[0],Ie(()=>r=!1)),n.$set(A);const S={};!o&&w&2&&(o=!0,S.active=m[1],Ie(()=>o=!1)),i.$set(S)},i(m){f||(P(n.$$.fragment,m),P(i.$$.fragment,m),P(c.$$.fragment,m),f=!0)},o(m){D(n.$$.fragment,m),D(i.$$.fragment,m),D(c.$$.fragment,m),f=!1},d(m){m&&F(e),V(n),V(i),V(c)}}}function fi(t,e,n){let{unlinkActive:r=!1}=e,{duplicationActive:s=!1}=e,i=Je();function o(a){r=a,n(0,r)}function l(a){s=a,n(1,s)}const u=()=>i("downloadPlaylist");return t.$$set=a=>{"unlinkActive"in a&&n(0,r=a.unlinkActive),"duplicationActive"in a&&n(1,s=a.duplicationActive)},[r,s,i,o,l,u]}class di extends de{constructor(e){super(),fe(this,e,fi,ci,ae,{unlinkActive:0,duplicationActive:1})}}function hi(t,e){const n=document.createElement("a");n.download=e,n.style.display="none";const r=new Blob([t]);n.href=URL.createObjectURL(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function pi(t){let e,n,r,s,i;return{c(){e=C("button"),n=C("span"),k(n,"class",r=t[0]+" text-base text-gray-400"),k(e,"class","w-5 h-5 flex items-center justify-center")},m(o,l){U(o,e,l),v(e,n),s||(i=[x(e,"click",t[2]),x(e,"mousedown",t[3]),x(e,"mouseup",t[4])],s=!0)},p(o,[l]){l&1&&r!==(r=o[0]+" text-base text-gray-400")&&k(n,"class",r)},i:$,o:$,d(o){o&&F(e),s=!1,te(i)}}}function mi(t,e,n){let{icon:r}=e;const s=Je(),i=()=>s("click"),o=()=>s("mousedown"),l=()=>s("mouseup");return t.$$set=u=>{"icon"in u&&n(0,r=u.icon)},[r,s,i,o,l]}class ze extends de{constructor(e){super(),fe(this,e,mi,pi,ae,{icon:0})}}function _i(t){const e=t-1;return e*e*e+1}function zn(t,{from:e,to:n},r={}){const s=getComputedStyle(t),i=s.transform==="none"?"":s.transform,[o,l]=s.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*o/n.width-(n.left+o),a=e.top+e.height*l/n.height-(n.top+l),{delay:c=0,duration:f=y=>Math.sqrt(y)*120,easing:_=_i}=r;return{delay:c,duration:Xe(f)?f(Math.sqrt(u*u+a*a)):f,easing:_,css:(y,d)=>{const p=d*u,m=d*a,w=y+d*e.width/n.width,A=y+d*e.height/n.height;return`transform: ${i} translate(${p}px, ${m}px) scale(${w}, ${A});`}}}function Gt(t,e,n){const r=t.slice();return r[34]=e[n],r[35]=e,r[36]=n,r}function Kt(t,e,n){const r=t.slice();return r[37]=e[n],r[38]=e,r[39]=n,r}function Wt(t){let e,n,r=[],s=new Map,i,o,l=ve(t[2]);const u=c=>c[37];for(let c=0;c<l.length;c+=1){let f=Kt(t,l,c),_=u(f);s.set(_,r[c]=Qt(_,f))}let a=t[3]&&Zt(t);return{c(){e=C("div"),n=C("div");for(let c=0;c<r.length;c+=1)r[c].c();i=B(),a&&a.c(),k(n,"class",(t[7]?"hidden":"")+" flex flex-col border-r-2 min-w-56"),k(e,"class","w-full h-full flex")},m(c,f){U(c,e,f),v(e,n);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(n,null);v(e,i),a&&a.m(e,null),o=!0},p(c,f){if(f[0]&2620){l=ve(c[2]),Z();for(let _=0;_<r.length;_+=1)r[_].r();r=_n(r,f,u,1,c,l,s,n,mn,Qt,null,Kt);for(let _=0;_<r.length;_+=1)r[_].a();ee()}c[3]?a?(a.p(c,f),f[0]&8&&P(a,1)):(a=Zt(c),a.c(),P(a,1),a.m(e,null)):a&&(Z(),D(a,1,1,()=>{a=null}),ee())},i(c){if(!o){for(let f=0;f<l.length;f+=1)P(r[f]);P(a),o=!0}},o(c){for(let f=0;f<r.length;f+=1)D(r[f]);D(a),o=!1},d(c){c&&F(e);for(let f=0;f<r.length;f+=1)r[f].d();a&&a.d()}}}function Yt(t){let e,n,r,s,i;function o(){return t[13](t[37])}e=new ze({props:{icon:"icon-[mi--delete]"}}),e.$on("click",o);function l(){return t[14](t[37],t[38],t[39])}function u(){return t[15](t[37],t[38],t[39])}return s=new ze({props:{icon:"icon-[grommet-icons--sort]"}}),s.$on("mousedown",l),s.$on("mouseup",u),{c(){K(e.$$.fragment),n=B(),r=C("span"),K(s.$$.fragment),k(r,"class","ml-2")},m(a,c){X(e,a,c),U(a,n,c),U(a,r,c),X(s,r,null),i=!0},p(a,c){t=a},i(a){i||(P(e.$$.fragment,a),P(s.$$.fragment,a),i=!0)},o(a){D(e.$$.fragment,a),D(s.$$.fragment,a),i=!1},d(a){a&&(F(n),F(r)),V(e,a),V(s)}}}function Qt(t,e){let n,r,s=e[37].name+"",i,o,l,u,a=e[37].completedCount+"",c,f,_=e[37].total+"",y,d,p,m,w,A,S=$,g,E,O,b=e[4]=="completed"&&Yt(e);function T(...q){return e[16](e[37],...q)}function j(...q){return e[17](e[37],...q)}function oe(...q){return e[18](e[37],e[38],e[39],...q)}function et(){return e[19](e[37])}return{key:t,first:null,c(){n=C("button"),r=C("span"),i=ne(s),o=B(),l=C("div"),u=C("span"),c=ne(a),f=ne("/"),y=ne(_),d=B(),b&&b.c(),p=B(),k(u,"class","mr-2"),k(l,"class","flex items-center"),k(n,"draggable",m=e[37].draggable),k(n,"class",w="px-4 py-2 flex justify-between items-center "+(e[3]==e[37]?"bg-blue-400":"")+" "+(e[37].invalidCount<e[37].total?"":"hidden")+" pointer-events-auto"),this.first=n},m(q,Y){U(q,n,Y),v(n,r),v(r,i),v(n,o),v(n,l),v(l,u),v(u,c),v(u,f),v(u,y),v(l,d),b&&b.m(l,null),v(n,p),g=!0,E||(O=[x(n,"dragenter",T),x(n,"dragstart",j),x(n,"dragend",oe),x(n,"click",et)],E=!0)},p(q,Y){e=q,(!g||Y[0]&4)&&s!==(s=e[37].name+"")&&Se(i,s),(!g||Y[0]&4)&&a!==(a=e[37].completedCount+"")&&Se(c,a),(!g||Y[0]&4)&&_!==(_=e[37].total+"")&&Se(y,_),e[4]=="completed"?b?(b.p(e,Y),Y[0]&16&&P(b,1)):(b=Yt(e),b.c(),P(b,1),b.m(l,null)):b&&(Z(),D(b,1,1,()=>{b=null}),ee()),(!g||Y[0]&4&&m!==(m=e[37].draggable))&&k(n,"draggable",m),(!g||Y[0]&12&&w!==(w="px-4 py-2 flex justify-between items-center "+(e[3]==e[37]?"bg-blue-400":"")+" "+(e[37].invalidCount<e[37].total?"":"hidden")+" pointer-events-auto"))&&k(n,"class",w)},r(){A=n.getBoundingClientRect()},f(){cn(n),S()},a(){S(),S=un(n,A,zn,{})},i(q){g||(P(b),g=!0)},o(q){D(b),g=!1},d(q){q&&F(n),b&&b.d(),E=!1,te(O)}}}function Zt(t){let e,n=[],r=new Map,s,i=ve(t[3].items);const o=l=>l[34];for(let l=0;l<i.length;l+=1){let u=Gt(t,i,l),a=o(u);r.set(a,n[l]=tn(a,u))}return{c(){e=C("div");for(let l=0;l<n.length;l+=1)n[l].c();k(e,"class","h-full overflow-y-auto")},m(l,u){U(l,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);s=!0},p(l,u){if(u[0]&5208){i=ve(l[3].items),Z();for(let a=0;a<n.length;a+=1)n[a].r();n=_n(n,u,o,1,l,i,r,e,mn,tn,null,Gt);for(let a=0;a<n.length;a+=1)n[a].a();ee()}},i(l){if(!s){for(let u=0;u<i.length;u+=1)P(n[u]);s=!0}},o(l){for(let u=0;u<n.length;u+=1)D(n[u]);s=!1},d(l){l&&F(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function gi(t){let e,n,r;function s(u,a){if(u[34].state==G.Success)return wi;if(u[34].state==G.Failure)return yi}let i=s(t),o=i&&i(t),l=t[4]=="completed"&&en(t);return{c(){e=C("div"),o&&o.c(),n=B(),l&&l.c(),k(e,"class","flex items-center")},m(u,a){U(u,e,a),o&&o.m(e,null),v(e,n),l&&l.m(e,null),r=!0},p(u,a){i!==(i=s(u))&&(o&&o.d(1),o=i&&i(u),o&&(o.c(),o.m(e,n))),u[4]=="completed"?l?(l.p(u,a),a[0]&16&&P(l,1)):(l=en(u),l.c(),P(l,1),l.m(e,null)):l&&(Z(),D(l,1,1,()=>{l=null}),ee())},i(u){r||(P(l),r=!0)},o(u){D(l),r=!1},d(u){u&&F(e),o&&o.d(),l&&l.d()}}}function bi(t){let e;return{c(){e=C("span"),k(e,"class","icon-[eos-icons--bubble-loading] ml-4")},m(n,r){U(n,e,r)},p:$,i:$,o:$,d(n){n&&F(e)}}}function yi(t){let e;return{c(){e=C("span"),k(e,"class","icon-[el--error] text-red-600 text-lg mr-4")},m(n,r){U(n,e,r)},d(n){n&&F(e)}}}function wi(t){let e;return{c(){e=C("span"),k(e,"class","icon-[mdi--check-circle-outline] bg-green-600 text-xl mr-4")},m(n,r){U(n,e,r)},d(n){n&&F(e)}}}function en(t){let e,n,r,s,i;function o(){return t[20](t[34])}e=new ze({props:{icon:"icon-[mi--delete]"}}),e.$on("click",o);function l(){return t[21](t[34],t[35],t[36])}function u(){return t[22](t[34],t[35],t[36])}return s=new ze({props:{icon:"icon-[grommet-icons--sort]"}}),s.$on("mousedown",l),s.$on("mouseup",u),{c(){K(e.$$.fragment),n=B(),r=C("span"),K(s.$$.fragment),k(r,"class","ml-2")},m(a,c){X(e,a,c),U(a,n,c),U(a,r,c),X(s,r,null),i=!0},p(a,c){t=a},i(a){i||(P(e.$$.fragment,a),P(s.$$.fragment,a),i=!0)},o(a){D(e.$$.fragment,a),D(s.$$.fragment,a),i=!1},d(a){a&&(F(n),F(r)),V(e,a),V(s)}}}function tn(t,e){let n,r,s=e[34].name+"",i,o,l,u,a,c,f,_,y=$,d,p,m;const w=[bi,gi],A=[];function S(b,T){return b[34].state==G.Idle||b[34].state==G.Checking?0:1}l=S(e),u=A[l]=w[l](e);function g(...b){return e[23](e[34],...b)}function E(...b){return e[24](e[34],...b)}function O(...b){return e[25](e[34],e[35],e[36],...b)}return{key:t,first:null,c(){n=C("button"),r=C("span"),i=ne(s),o=B(),u.c(),a=B(),k(n,"draggable",c=e[34].draggable),k(n,"class",f="px-4 py-2 border-b-2 border-gray-100 flex justify-between items-center min-w-48 w-full "+(e[34].invalid?"hidden":"")),this.first=n},m(b,T){U(b,n,T),v(n,r),v(r,i),v(n,o),A[l].m(n,null),v(n,a),d=!0,p||(m=[x(n,"dragenter",g),x(n,"dragstart",E),x(n,"dragend",O)],p=!0)},p(b,T){e=b,(!d||T[0]&8)&&s!==(s=e[34].name+"")&&Se(i,s);let j=l;l=S(e),l===j?A[l].p(e,T):(Z(),D(A[j],1,1,()=>{A[j]=null}),ee(),u=A[l],u?u.p(e,T):(u=A[l]=w[l](e),u.c()),P(u,1),u.m(n,a)),(!d||T[0]&8&&c!==(c=e[34].draggable))&&k(n,"draggable",c),(!d||T[0]&8&&f!==(f="px-4 py-2 border-b-2 border-gray-100 flex justify-between items-center min-w-48 w-full "+(e[34].invalid?"hidden":"")))&&k(n,"class",f)},r(){_=n.getBoundingClientRect()},f(){cn(n),y()},a(){y(),y=un(n,_,zn,{})},i(b){d||(P(u),d=!0)},o(b){D(u),d=!1},d(b){b&&F(n),A[l].d(),p=!1,te(m)}}}function nn(t){let e,n,r,s,i;function o(a){t[26](a)}function l(a){t[27](a)}let u={};return t[0]!==void 0&&(u.unlinkActive=t[0]),t[1]!==void 0&&(u.duplicationActive=t[1]),n=new di({props:u}),ce.push(()=>He(n,"unlinkActive",o)),ce.push(()=>He(n,"duplicationActive",l)),n.$on("downloadPlaylist",t[8]),{c(){e=C("div"),K(n.$$.fragment),k(e,"class","fixed right-0 top-0 w-20 h-full flex items-center")},m(a,c){U(a,e,c),X(n,e,null),i=!0},p(a,c){const f={};!r&&c[0]&1&&(r=!0,f.unlinkActive=a[0],Ie(()=>r=!1)),!s&&c[0]&2&&(s=!0,f.duplicationActive=a[1],Ie(()=>s=!1)),n.$set(f)},i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){D(n.$$.fragment,a),i=!1},d(a){a&&F(e),V(n)}}}function Ei(t){let e,n,r,s=t[2]&&Wt(t),i=t[4]=="completed"&&nn(t);return{c(){s&&s.c(),e=B(),i&&i.c(),n=Ve()},m(o,l){s&&s.m(o,l),U(o,e,l),i&&i.m(o,l),U(o,n,l),r=!0},p(o,l){o[2]?s?(s.p(o,l),l[0]&4&&P(s,1)):(s=Wt(o),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(Z(),D(s,1,1,()=>{s=null}),ee()),o[4]=="completed"?i?(i.p(o,l),l[0]&16&&P(i,1)):(i=nn(o),i.c(),P(i,1),i.m(n.parentNode,n)):i&&(Z(),D(i,1,1,()=>{i=null}),ee())},i(o){r||(P(s),P(i),r=!0)},o(o){D(s),D(i),r=!1},d(o){o&&(F(e),F(n)),s&&s.d(o),i&&i.d(o)}}}function ki(t,e,n){let r=ge.playlist||"",s=ge.name||"playlist.m3u8";r||vr("/");let{playlist:i,groups:o,checker:l}=p(r),u=o.length==1&&!o[0].name,a,c="checking",f=!1,_=!1,y,d;l.onCompleted=()=>{n(4,c="completed")},l.onItemStateChanged=R=>{n(2,o),a&&a.name==R.attributes["group-title"]&&n(3,a)},fn(()=>{l&&l.abort()});function p(R){let N=wn.M3uParser.parse(R),L=new Ws(N.medias);N.medias.sort((H,Q)=>!H.name||!Q.name?0:H.name.localeCompare(Q.name,"en",{numeric:!0}));let he=N.medias.reduce((H,Q)=>{let ke=Q.attributes["group-title"]||"",Qn=H.filter(Zn=>Zn.name===ke)[0]||H.push(new li(ke))&&H[H.length-1];return Q.state=G.Idle,Q.invalid=!1,Qn.push(Q),H},new Array).sort((H,Q)=>H.name.localeCompare(Q.name,"en",{numeric:!0}));return{playlist:N,groups:he,checker:L}}function m(R,N){o.forEach((L,he)=>{L.items.forEach((H,Q)=>{H.invalid=R&&H.state==G.Failure,N&&!H.invalid&&(H.invalid=L.items.findIndex(ke=>!ke.invalid&&ke.name===H.name)<Q)})}),n(3,a)}function w(){let R=[];o.length!=0&&(o.forEach((N,L)=>{R.push(...N.items.filter(he=>!he.invalid))}),i.medias=R,hi(i.getM3uString(),s))}function A(R){n(2,o=o.splice(o.indexOf(R),1)),(a==null?void 0:a.name)===R.name&&n(3,a=void 0)}function S(R){a&&(a.items.splice(a.items.indexOf(R),1),n(3,a))}function g(R){if(!y||!o)return;let N=o.indexOf(y),L=o.indexOf(R);N<0||L<0||N==L||(o.splice(N,1),o.splice(L,0,y),n(2,o))}function E(R){if(!d||!a||!a.items)return;let N=a.items.indexOf(d),L=a.items.indexOf(R);N<0||L<0||N==L||(a.items.splice(N,1),a.items.splice(L,0,d),n(3,a))}const O=R=>A(R),b=(R,N,L)=>n(2,N[L].draggable=!0,o),T=(R,N,L)=>n(2,N[L].draggable=!1,o),j=(R,N)=>g(R),oe=(R,N)=>n(5,y=R),et=(R,N,L,he)=>n(2,N[L].draggable=!1,o),q=R=>n(3,a=R),Y=R=>S(R),Xn=(R,N,L)=>n(3,N[L].draggable=!0,a),Vn=(R,N,L)=>n(3,N[L].draggable=!1,a),Jn=(R,N)=>E(R),Gn=(R,N)=>n(6,d=R),Kn=(R,N,L,he)=>n(3,N[L].draggable=!1,a);function Wn(R){f=R,n(0,f)}function Yn(R){_=R,n(1,_)}return t.$$.update=()=>{t.$$.dirty[0]&3&&m(f,_)},[f,_,o,a,c,y,d,u,w,A,S,g,E,O,b,T,j,oe,et,q,Y,Xn,Vn,Jn,Gn,Kn,Wn,Yn]}class Oi extends de{constructor(e){super(),fe(this,e,ki,Ei,ae,{},null,[-1,-1])}}const Ai={"/":oi,"/check":Oi};function Si(t){let e,n,r;return n=new Mr({props:{routes:Ai}}),{c(){e=C("main"),K(n.$$.fragment),k(e,"class","w-full h-full")},m(s,i){U(s,e,i),X(n,e,null),r=!0},p:$,i(s){r||(P(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&F(e),V(n)}}}class Ri extends de{constructor(e){super(),fe(this,e,null,Si,ae,{})}}new Ri({target:document.getElementById("app")});
